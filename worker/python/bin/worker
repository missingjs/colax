#!/bin/bash

self_dir=$(cd $(dirname $0) && pwd)

usage()
{
    cat << EOF
usage: colax worker python [<operation>] [args]...

Operations:

    start     Start worker.

    stop      Stop worker.

    status    Show status.
EOF
    exit 1
}

operation=$1

[ -z $operation ] && usage

cd $self_dir

case $operation in
    start)
        docker compose up -d
        ;;
    stop)
        docker compose down -t 5
        ;;
    status)
        docker compose ps
        ;;
    *)
        usage
        ;;
esac
